class Solution:
    def thirdMax(self, nums: List[int]) -> int:
        max_heap = []
        if len(nums) < 3:
            return nums[-1]
        for i in range(len(nums)):
            heapq.heappush(max_heap, nums[i])
        heapq.heapify(max_heap)
        while len(max_heap) != 3:
            heapq.heappop(max_heap)
        return max_heap[-3]
